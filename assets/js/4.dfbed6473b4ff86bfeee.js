webpackJsonp([4],{GY82:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("GnUe");var a=n("7t+N"),o=n.n(a),i={data(){return{country:"+86",captchaObj:null,_captchaResult:null,formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:this.$t("uc.login.loginvalidate"),trigger:"blur"}],password:[{required:!0,message:this.$t("uc.login.pwdvalidate1"),trigger:"blur"},{type:"string",min:6,message:this.$t("uc.login.pwdvalidate2"),trigger:"blur"}]}}},created:function(){this.init()},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{init(){this.$store.commit("navigate","nav-other"),this.$store.state.HeaderActiveName="0",this.isLogin?this.$router.push("/uc/safe"):this.initGtCaptcha()},onKeyup(t){13==t.keyCode&&o()(".login_btn").click()},initGtCaptcha(){this.$http.get(this.host+this.api.uc.captcha).then(function(t){window.initGeetest({gt:t.body.gt,challenge:t.body.challenge,offline:!t.body.success,new_captcha:t.body.new_captcha,product:"bind",width:"100%"},this.handler)})},handler(t){t.onReady(()=>{o()("#wait").hide()}).onSuccess(()=>{(this._captchaResult=t.getValidate())?this.handleSubmit("formInline"):this.$Message.error("请完成验证")}),o()(".login_btn").click(()=>{let e=this.formInline.user,n=/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e),a=this.formInline.password.length>=6;n&&a&&t.verify(),(!n||!a)&&this.$Message.error("请填写完整的信息")})},logout(){this.$http.post(this.host+"/uc/logout",{}).then(t=>{0==t.body.code&&(localStorage.setItem("MEMBER",JSON.stringify(null)),localStorage.setItem("TOKEN",null),localStorage.removeItem("USERKEY",null))})},handleSubmit(t){this._captchaResult?this.$refs[t].validate(t=>{if(t){var e={};e.username=this.formInline.user,e.password=this.formInline.password,this.$http.post(this.host+this.api.uc.login,e).then(t=>{var e=t.body;0==e.code?(this.$Message.success(this.$t("uc.login.success")),this.$store.commit("setMember",t.body.data),null!=this.$route.query.key&&""!=this.$route.query.key&&localStorage.setItem("USERKEY",this.$route.query.key),this.$router.push("/uc/safe")):this.$Message.error(e.message)})}}):(o()("#notice").show(),setTimeout(function(){o()("#notice").hide()},2e3))}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_form"},[n("div",{staticClass:"login_right"},[n("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline,inline:""}},[n("div",{staticClass:"login_title"},[t._v(t._s(t.$t("uc.login.login")))]),t._v(" "),n("FormItem",{attrs:{prop:"user"}},[n("Input",{staticClass:"user",attrs:{name:"user",type:"text",placeholder:t.$t("uc.login.usertip")},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}},[n("Select",{staticStyle:{width:"65px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},[n("Option",{attrs:{value:"+86",label:"+86"}},[n("span",[t._v("+86")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("中国")])]),t._v(" "),n("Option",{attrs:{value:"+65",label:"+65"}},[n("span",[t._v("+65")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("新加坡")])]),t._v(" "),n("Option",{attrs:{value:"+82",label:"+82"}},[n("span",[t._v("+82")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("韩国")])]),t._v(" "),n("Option",{attrs:{value:"+81",label:"+81"}},[n("span",[t._v("+81")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("日本")])]),t._v(" "),n("Option",{attrs:{value:"+66",label:"+66"}},[n("span",[t._v("+66")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("泰国")])]),t._v(" "),n("Option",{attrs:{value:"+7",label:"+7"}},[n("span",[t._v("+7")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("俄罗斯")])]),t._v(" "),n("Option",{attrs:{value:"+44",label:"+44"}},[n("span",[t._v("+44")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("英国")])]),t._v(" "),n("Option",{attrs:{value:"+84",label:"+84"}},[n("span",[t._v("+84")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("越南")])]),t._v(" "),n("Option",{attrs:{value:"+91",label:"+91"}},[n("span",[t._v("+91")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("印度")])]),t._v(" "),n("Option",{attrs:{value:"+39",label:"+39"}},[n("span",[t._v("+39")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("意大利")])]),t._v(" "),n("Option",{attrs:{value:"+852",label:"+852"}},[n("span",[t._v("+852")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("香港")])]),t._v(" "),n("Option",{attrs:{value:"+60",label:"+60"}},[n("span",[t._v("+60")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("马来西亚")])]),t._v(" "),n("Option",{attrs:{value:"+886",label:"+886"}},[n("span",[t._v("+886")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("台湾省")])]),t._v(" "),n("Option",{attrs:{value:"+90",label:"+90"}},[n("span",[t._v("+90")]),n("span",{staticStyle:{"margin-left":"10px",color:"#ccc"}},[t._v("土耳其")])])],1)],1)],1),t._v(" "),n("FormItem",{staticClass:"password",attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:t.$t("uc.login.pwdtip")},on:{"on-keyup":t.onKeyup},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}})],1),t._v(" "),n("p",{staticClass:"hide",attrs:{id:"notice"}},[t._v(t._s(t.$t("uc.login.validatemsg")))]),t._v(" "),n("p",{staticStyle:{height:"30px"}},[n("router-link",{staticStyle:{color:"#979797",float:"right","padding-right":"10px","font-size":"12px"},attrs:{to:"/findPwd"}},[t._v("\n          "+t._s(t.$t("uc.login.forget"))+"\n        ")])],1),t._v(" "),n("FormItem",{staticStyle:{"margin-bottom":"15px"}},[n("Button",{staticClass:"login_btn"},[t._v(t._s(t.$t("uc.login.login")))])],1),t._v(" "),n("div",{staticClass:"to_register"},[n("span",[t._v(t._s(t.$t("uc.login.noaccount")))]),t._v(" "),n("router-link",{attrs:{to:"/register"}},[t._v(t._s(t.$t("uc.login.goregister")))])],1)],1)],1)])},staticRenderFns:[]};var r=n("VU/8")(i,s,!1,function(t){n("X5h2"),n("UK1y"),n("PEkV")},"data-v-00c9bd46",null);e.default=r.exports},GnUe:function(t,e,n){"use strict";!function(t){if(void 0===t)throw new Error("Geetest requires browser environment");var e=t.document,n=t.Math,a=e.getElementsByTagName("head")[0];function o(t){this._obj=t}function i(t){var e=this;new o(t)._each(function(t,n){e[t]=n})}o.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},i.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return s(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(t){var e=this;new o(t)._each(function(t,n){e[t]=n})}};var s=function(t){return"string"==typeof t},r=function(t){return"object"==typeof t&&null!==t},l={},c={},p=function(t,e,n,a){e=function(t){return t.replace(/^https?:\/\/|\/$/g,"")}(e);var i=function(t){return 0!==(t=t.replace(/\/+/g,"/")).indexOf("/")&&(t="/"+t),t}(n)+function(t){if(!t)return"";var e="?";return new o(t)._each(function(t,n){(s(n)||function(t){return"number"==typeof t}(n)||function(t){return"boolean"==typeof t}(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")}),"?"===e&&(e=""),e.replace(/&$/,"")}(a);return e&&(i=t+e+i),i},u=function(t,n,o,i,s){var r=function(l){!function(t,n){var o=e.createElement("script");o.charset="UTF-8",o.async=!0,o.onerror=function(){n(!0)};var i=!1;o.onload=o.onreadystatechange=function(){i||o.readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState||(i=!0,setTimeout(function(){n(!1)},0))},o.src=t,a.appendChild(o)}(p(t,n[l],o,i),function(t){t?l>=n.length-1?s(!0):r(l+1):s(!1)})};r(0)},f=function(e,a,o,i){if(r(o.getLib))return o._extend(o.getLib),void i(o);if(o.offline)i(o._get_fallback_config());else{var s="geetest_"+(parseInt(1e4*n.random())+(new Date).valueOf());t[s]=function(e){"success"==e.status?i(e.data):e.status?i(o._get_fallback_config()):i(e),t[s]=void 0;try{delete t[s]}catch(t){}},u(o.protocol,e,a,{gt:o.gt,callback:s},function(t){t&&i(o._get_fallback_config())})}},g=function(t,e){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof e.onError)throw new Error(n[t]);e.onError(n[t])};(t.Geetest||e.getElementById("gt_lib"))&&(c.slide="loaded"),t.initGeetest=function(e,n){var a=new i(e);e.https?a.protocol="https://":e.protocol||(a.protocol=t.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(a.apiserver="yumchina.geetest.com/",a.api_server="yumchina.geetest.com"),r(e.getType)&&a._extend(e.getType),f([a.api_server||a.apiserver],a.typePath,a,function(e){var o=e.type,i=function(){a._extend(e),n(new t.Geetest(a))};l[o]=l[o]||[];var s=c[o]||"init";"init"===s?(c[o]="loading",l[o].push(i),u(a.protocol,e.static_servers||e.domains,e[o]||e.path,null,function(t){if(t)c[o]="fail",g("networkError",a);else{c[o]="loaded";for(var e=l[o],n=0,i=e.length;n<i;n+=1){var s=e[n];"function"==typeof s&&s()}l[o]=[]}})):"loaded"===s?i():"fail"===s?g("networkError",a):"loading"===s&&l[o].push(i)})}}(window)},PEkV:function(t,e){},UK1y:function(t,e){},X5h2:function(t,e){}});