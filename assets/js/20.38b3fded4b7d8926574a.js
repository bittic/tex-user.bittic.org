webpackJsonp([20],{"0roc":function(t,e){},GnUe:function(t,e,s){"use strict";!function(t){if(void 0===t)throw new Error("Geetest requires browser environment");var e=t.document,s=t.Math,o=e.getElementsByTagName("head")[0];function i(t){this._obj=t}function r(t){var e=this;new i(t)._each(function(t,s){e[t]=s})}i.prototype={_each:function(t){var e=this._obj;for(var s in e)e.hasOwnProperty(s)&&t(s,e[s]);return this}},r.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){return n(this.type)?this.fallback_config[this.type]:this.new_captcha?this.fallback_config.fullpage:this.fallback_config.slide},_extend:function(t){var e=this;new i(t)._each(function(t,s){e[t]=s})}};var n=function(t){return"string"==typeof t},a=function(t){return"object"==typeof t&&null!==t},c={},l={},d=function(t,e,s,o){e=function(t){return t.replace(/^https?:\/\/|\/$/g,"")}(e);var r=function(t){return 0!==(t=t.replace(/\/+/g,"/")).indexOf("/")&&(t="/"+t),t}(s)+function(t){if(!t)return"";var e="?";return new i(t)._each(function(t,s){(n(s)||function(t){return"number"==typeof t}(s)||function(t){return"boolean"==typeof t}(s))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(s)+"&")}),"?"===e&&(e=""),e.replace(/&$/,"")}(o);return e&&(r=t+e+r),r},u=function(t,s,i,r,n){var a=function(c){!function(t,s){var i=e.createElement("script");i.charset="UTF-8",i.async=!0,i.onerror=function(){s(!0)};var r=!1;i.onload=i.onreadystatechange=function(){r||i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(r=!0,setTimeout(function(){s(!1)},0))},i.src=t,o.appendChild(i)}(d(t,s[c],i,r),function(t){t?c>=s.length-1?n(!0):a(c+1):n(!1)})};a(0)},h=function(e,o,i,r){if(a(i.getLib))return i._extend(i.getLib),void r(i);if(i.offline)r(i._get_fallback_config());else{var n="geetest_"+(parseInt(1e4*s.random())+(new Date).valueOf());t[n]=function(e){"success"==e.status?r(e.data):e.status?r(i._get_fallback_config()):r(e),t[n]=void 0;try{delete t[n]}catch(t){}},u(i.protocol,e,o,{gt:i.gt,callback:n},function(t){t&&r(i._get_fallback_config())})}},p=function(t,e){var s={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!=typeof e.onError)throw new Error(s[t]);e.onError(s[t])};(t.Geetest||e.getElementById("gt_lib"))&&(l.slide="loaded"),t.initGeetest=function(e,s){var o=new r(e);e.https?o.protocol="https://":e.protocol||(o.protocol=t.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),a(e.getType)&&o._extend(e.getType),h([o.api_server||o.apiserver],o.typePath,o,function(e){var i=e.type,r=function(){o._extend(e),s(new t.Geetest(o))};c[i]=c[i]||[];var n=l[i]||"init";"init"===n?(l[i]="loading",c[i].push(r),u(o.protocol,e.static_servers||e.domains,e[i]||e.path,null,function(t){if(t)l[i]="fail",p("networkError",o);else{l[i]="loaded";for(var e=c[i],s=0,r=e.length;s<r;s+=1){var n=e[s];"function"==typeof n&&n()}c[i]=[]}})):"loaded"===n?r():"fail"===n?p("networkError",o):"loading"===n&&c[i].push(r)})}}(window)},iQPm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("GnUe");var o=s("7t+N"),i=s.n(o),r={data(){return{codedisabled:!1,sendcodeValue:this.$t("uc.regist.sendcode"),captchaObj:null,modal1:!1,_captchaResult:null,buttonLists:[{text:this.$t("uc.forget.resettelpwd")}],changeActive:0,countdown:60,formInline:{user:"",code:"",password:"",repassword:""},ruleInline:{user:[{validator:(t,e,s)=>{if(0==this.changeActive){var o=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;""==e?s(new Error(this.$t("uc.regist.teltip"))):o.test(this.formInline.user)?s():s(new Error(this.$t("uc.regist.telerr")))}else o=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,o=/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/,""==e?s(new Error(this.$t("uc.regist.emailtip"))):o.test(this.formInline.user)?s():s(new Error(this.$t("uc.regist.emailerr")))},trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{required:!0,message:this.$t("uc.forget.newpwdtip"),trigger:"blur"},{type:"string",min:6,message:this.$t("uc.forget.pwdvalidate3"),trigger:"blur"}],repassword:[{validator:(t,e,s)=>{""===e?s(new Error(this.$t("uc.forget.pwdvalidate1"))):e!==this.formInline.password?s(new Error(this.$t("uc.forget.pwdvalidate2"))):s()},trigger:"blur"},{type:"string",min:6,message:this.$t("uc.forget.pwdvalidate3"),trigger:"blur"}]},key:"",code:""}},watch:{changeActive:function(t){this.$refs.formInline.resetFields()}},created:function(){this.init()},computed:{isLogin:function(){return this.$store.getters.isLogin}},methods:{init(){this.isLogin?this.$router.push("/"):this.$store.state.HeaderActiveName="1-4",this.initGtCaptcha()},initGtCaptcha(){this.$http.get(this.host+this.api.uc.captcha).then(function(t){window.initGeetest({gt:t.body.gt,challenge:t.body.challenge,offline:!t.body.success,new_captcha:t.body.new_captcha,product:"bind",width:"100%"},this.handler)})},handler(t){t.onReady(()=>{i()("#wait").hide()}).onSuccess(()=>{(this._captchaResult=t.getValidate())?this.afterValidate():this.$Message.error("请完成验证")}),i()("#sendCode").click(()=>{let e=this.formInline.user,s=/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e);s&&t.verify(),!s&&this.$Message.error("请填写正确的手机号")})},afterValidate(){var t;(this.modal1=!1,1==this.changeActive)?((t={}).account=this.formInline.user,t.geetest_challenge=this._captchaResult.geetest_challenge,t.geetest_validate=this._captchaResult.geetest_validate,t.geetest_seccode=this._captchaResult.geetest_seccode,this.$http.post(this.host+"/uc/reset/email/code",t).then(t=>{this.countdown=60;var e=t.body;0==e.code?this.$Notice.success({title:this.$t("common.tip"),desc:e.message}):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})):((t={}).account=this.formInline.user,t.geetest_challenge=this._captchaResult.geetest_challenge,t.geetest_validate=this._captchaResult.geetest_validate,t.geetest_seccode=this._captchaResult.geetest_seccode,this.$http.post(this.host+"/uc/mobile/reset/code",t).then(t=>{var e=t.body;0==e.code?(this.settime(),this.$Notice.success({title:this.$t("common.tip"),desc:e.message})):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})}))},handleSubmit(t){this.$refs[t].validate(t=>{var e;t&&(1==this.changeActive?((e={}).account=this.formInline.user,e.code=this.formInline.code,e.mode=1,e.password=this.formInline.password,this.$http.post(this.host+"/uc/reset/login/password",e).then(t=>{this.countdown=60;var e=t.body;0==e.code?(this.$Notice.success({title:this.$t("common.tip"),desc:e.message}),this.$router.push("/login")):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})):((e={}).account=this.formInline.user,e.code=this.formInline.code,e.mode=0,e.password=this.formInline.password,this.$http.post(this.host+"/uc/reset/login/password",e).then(t=>{var e=t.body;0==e.code?(this.$Notice.success({title:this.$t("common.tip"),desc:"重置成功"}),this.$router.push("/login")):this.$Notice.error({title:this.$t("common.tip"),desc:e.message})})))})},settime(){this.sendcodeValue=this.countdown,this.codedisabled=!0;let t=setInterval(()=>{this.countdown--,this.sendcodeValue=this.countdown,this.countdown<=0&&(clearInterval(t),this.codedisabled=!1,this.sendcodeValue=this.$t("uc.regist.sendcode"),this.countdown=60)},1e3)}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login_form"},[s("div",{staticClass:"login_right"},[s("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline,inline:""}},[s("FormItem",{staticStyle:{"text-align":"center"}},[s("ButtonGroup",[s("div",{staticClass:"tel-title"},[t._v(t._s(t.$t("uc.login.getlostpwd")))])])],1),t._v(" "),s("FormItem",{attrs:{prop:"user"}},[s("Input",{attrs:{type:"text",placeholder:t.$t("uc.login.usertip")},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),s("FormItem",{attrs:{prop:"code"}},[s("Input",{attrs:{type:"text",placeholder:t.$t("uc.regist.smscode")},model:{value:t.formInline.code,callback:function(e){t.$set(t.formInline,"code",e)},expression:"formInline.code"}}),t._v(" "),s("input",{attrs:{id:"sendCode",type:"Button",disabled:t.codedisabled},domProps:{value:t.sendcodeValue}})],1),t._v(" "),s("FormItem",{staticClass:"password",attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:t.$t("uc.forget.newpwd")},model:{value:t.formInline.password,callback:function(e){t.$set(t.formInline,"password",e)},expression:"formInline.password"}})],1),t._v(" "),s("FormItem",{staticClass:"password",attrs:{prop:"repassword"}},[s("Input",{attrs:{type:"password",placeholder:t.$t("uc.forget.confirmpwd")},model:{value:t.formInline.repassword,callback:function(e){t.$set(t.formInline,"repassword",e)},expression:"formInline.repassword"}})],1),t._v(" "),s("FormItem",[s("Button",{staticClass:"login_btn",on:{click:function(e){return t.handleSubmit("formInline")}}},[t._v(t._s(t.$t("uc.forget.save")))])],1)],1)],1),t._v(" "),s("Modal",{attrs:{"mask-closable":!1},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[s("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("uc.regist.modaltitle")))]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("div",[s("div",{attrs:{id:"captcha"}},[s("p",{staticClass:"show",attrs:{id:"wait"}},[t._v(t._s(t.$t("uc.login.validatecodeload"))+"......")])])]),t._v(" "),s("p",{staticClass:"hide",attrs:{id:"notice"}},[t._v(t._s(t.$t("uc.login.validatemsg")))])]),t._v(" "),s("p",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var a=s("VU/8")(r,n,!1,function(t){s("0roc"),s("vlXR")},"data-v-0e95a1de",null);e.default=a.exports},vlXR:function(t,e){}});